<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Blog | Misha Reswick's Portfolio Site</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Misha Reswick">
    <meta name="description" content="Misha Reswick's personal portfolio website. Learn more
    about his interests, experiences, and current going-ons here at his blog page.">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" type="text/css" href="Assets/styles/base.css">
    <link rel="stylesheet" href="Assets/styles/head_foot.css">
    <link rel="stylesheet" href="Assets/styles/index.css">
    <link rel="stylesheet" href="Assets/styles/blog/styledblog.css">
    <!--Include DOM Purify-->
    <script type="text/javascript" src="Assets/scripts/dist/purify.min.js"></script>
    <!-- <script type="text/javascript" src="Assets/scripts/dist/purify.min.js"></script> -->
    <!-- <script type="module" src="Assets/scripts/blog.js"></script> -->
    <script type="module">
      //import { initBlogPost } from './Assets/scripts/blog/styledblog.js';
      import { initBlogPost } from './Assets/scripts/blog/blog.js';
      window.onload = (event) => {
        initBlogPost();
      };
    </script>
  </head>
  <body>
    <template id="dialogRep">
      <!--Alert to edit/add new blog post-->
      <dialog class="dialog" id="dialAddEdit">
        <form method="dialog">
          <label id="headerTitle">New Post:</label>
          <label id="postTitle" for="postTitle">Title:</label>
          <input type="text" name="postTitle" id="postTitle">
          <label for="postDate">Date:</label>
          <input type="datetime-local" name="postDate" id="postDate">
          <label for="postSummary">Summary:</label>
          <textarea rows="8" cols="40" name="postSummary" id="postSummary" placeholder="Enter your post's summary here..."></textarea>
          <div class="dialogBtns">
            <input type="button" name="postCancel" id="postCancel" value="Cancel">
            <input type="button" name="postOk" id="postOk" value="Ok">
          </div>
        </form>
        <!-- Output for Confirm and Prompt-->
        <output id="dialogRes"></output>
      </dialog>
      <!--Alert to confirm deletion of blog post-->
      <!--Confirm buttion dialog-->
      <dialog class="dialog" id="confDel">
        <form method="dialog">
          <output>Do you confirm you wish to delete this?</output>
          <div class="dialogBtns">
            <button id='confCbtn' type="button">Cancel</button>
            <button id='confOKbtn' type="button">Delete</button>
          </div>
        </form>
      </dialog>
      <!--Custom element to represent a blog post-->
      <blog-post class="blogPost" style="display: block;" id="blogPost">
        <label for="outPostTitle">Post Title:</label>
        <output class="outPostTitle"></output>
        <label for="outPostDate">Date:</label>
        <output class="outPostDate"></output>
        <label for="outPostSummary">Summary:</label>
        <output class="outPostSummary"></output>
        <div class="postBtns">
          <button type="button" value="Edit" title="Edit this post" name="editPost" class="editPost">
            <label for="editPost"><i class="fa fa-pencil" aria-hidden="true"></i></label>
          </button>
          <button type="button" value="Delete" title="Delete this post" name="deletePost" class="delPost">
            <label for="delPost"><i class="fa fa-trash-o" aria-hidden="true"></i></label>
          </button>
        </div>
        
      </blog-post>
      <!--Add blog post button-->
      <button type="button" id="addPost">Add blog post</button>
      <!-- Output for Confirm and Prompt-->
      <output id="res" style="border: 0.2rem solid black; margin: 0.5rem; padding: 0.5rem;"></output>

    </template>

    <main>
      <h1 title="blogPosts">Blog Posts:</h1>
      <!--Container for blog post-->
      <blog-post-cont class="blogPostCont" data-num-posts="0">
        <aside style="padding: 1rem;"><em>Info:</em> blog post date times are in UTC.</aside>
      </blog-post-cont>
      <!--Add blog post button-->
      <button type="button" id="addPost">Add blog post</button>
    </main>


    <hr id="footHr">
    <footer id="endOfPage">
      Misha Reswick<br>
      <address><a id="mishaEmail" href="mailto:mreswick@ucsd.com" title="Misha's UCSD email.">mreswick@ucsd.edu</a></address>
      Last updated: February 2023
      <nav id="footerNav">
        <a id="backToTop" href="#">Back to top ^</a>
      </nav>
    </footer>

  </body>
</html>